# =============================================================================
# AI Guardrails - Lua Pre-Commit Hooks
# =============================================================================
# Pedantic Lua enforcement: stylua + luacheck.
# Uses stylua.toml if present in project root.
# =============================================================================

repos:
  - repo: https://github.com/JohnnyMorganz/StyLua
    rev: v2.0.2
    hooks:
      - id: stylua
        name: "lua - stylua format check"
        args: ["--check"]

  - repo: local
    hooks:
      - id: luacheck
        name: "lua - luacheck lint (strict)"
        entry: luacheck
        # Strict mode: all warnings are errors, no unused args allowed
        # Add --globals vim for Neovim projects
        args: [
          "--std", "luajit",
          "--max-line-length", "100",
          "--max-code-line-length", "100",
          "--codes",  # Show error codes for clarity
        ]
        language: system
        types: [lua]
