# =============================================================================
# AI Guardrails - C/C++ Pre-Commit Hooks
# =============================================================================
# Pedantic C/C++ enforcement: clang-format + clang-tidy.
# Uses .clang-format if present in project root.
# =============================================================================

repos:
  - repo: https://github.com/pre-commit/mirrors-clang-format
    rev: v19.1.6
    hooks:
      - id: clang-format
        name: "cpp - clang-format check"
        args: ["--dry-run", "--Werror"]
        types_or: [c, c++]

  - repo: local
    hooks:
      - id: clang-tidy
        name: "cpp - clang-tidy (pedantic)"
        entry: clang-tidy
        args:
          - "--warnings-as-errors=*"
          - "-checks=*,-llvmlibc-*,-fuchsia-*,-altera-*"
        language: system
        # Note: CUDA excluded - clang-tidy doesn't fully support CUDA syntax
        types_or: [c, c++]
